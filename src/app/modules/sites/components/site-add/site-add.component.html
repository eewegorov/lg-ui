<div class="modal-header text-center justify-content-center">
  <h3 class="modal-title">{{ 'sitelist.form.title' | translate }}</h3>
</div>
<div class="modal-body">
  <div class="tab-content">
    <div *ngIf="tab === 1" class="p-3">
      <form (ngSubmit)="createSite()" [formGroup]="newSiteForm">
        <div class="row">
          <div class="col-lg-12">
            <div class="row">
              <div class="form-group col-lg-12">
                <label class="control-label" for="name">{{ 'sitelist.form.name' | translate }}</label>
                <input class="form-control" formControlName="name" id="name" required type="text">
                <span [innerHTML]="'sitelist.form.start.desc1' | translate" class="small"></span>
              </div>
              <div [ngClass]="{ 'is-invalid': isUrlInvalid }" class="form-group col-lg-12">
                <label class="control-label" for="url">{{ 'sitelist.form.url' | translate }}</label>
                <input (change)="enableTyping()" class="form-control" formControlName="url" id="url" required
                       type="text">
                <span [innerHTML]="'sitelist.form.start.desc2' | translate" class="small">.</span>
              </div>
              <div *ngIf="!hidePhone" class="form-group col-lg-12" id="phoneContainer">
                <label class="control-label" for="phone">{{ 'sitelist.form.phone.title' | translate }}</label>
                <input class="form-control" formControlName="phone" id="phone" type="text">
                <span class="small">{{ 'sitelist.form.phone.desc' | translate }}</span>
              </div>
            </div>
          </div>
        </div>
        <div class="d-flex justify-content-between mt-2 mb-2">
          <button (click)="closeModal()" class="btn btn-lg btn-default">{{ 'global.cancel' | translate }}</button>
          <button [disabled]="!newSiteForm.valid" class="btn btn-lg btn-success"
                  type="submit"> {{ 'sitelist.form.save' | translate }}</button>
        </div>
      </form>
    </div>

    <div *ngIf="tab === 2">
      <div class="text-center mb-4 pl-3 pr-3">
        <h4 class="mb-3">{{ 'sitelist.save.done' | translate }}</h4>
        <div class="text-left"><strong>{{ 'sitelist.form.code.desc1' | translate }}</strong></div>
        <div class="mt-1">
          <div class="form-group">
            <textarea
              [(ngModel)]="createdSite.link"
              appSelectOnClick
              class="form-control not-readonly-hand"
              id="siteLink"
              readonly
              rows="5"
            ></textarea>
          </div>
        </div>
        <div>
          <div class="text-left">
            <strong>
              {{ 'settings.script.apicode.title' | translate }} <a
              class="info-link" data-container="body" data-placement="top"
              data-title="{{ 'settings.script.apicode.tooltip' | translate }}"
              data-toggle="tooltip"><i class="fa fa-info-circle"></i></a>
            </strong>
          </div>
        </div>
        <div class="mt-1">
          <div class="form-group" data-context="url">
            <input
              [(ngModel)]="createdSite.id"
              appSelectOnClick
              class="form-control not-readonly-hand"
              id="siteId"
              name="name"
              readonly
              type="text"
            >
          </div>
        </div>
      </div>
      <div class="text-center mb-3 pt-3">
        <h4>{{ 'sitelist.form.goto' | translate }}</h4>
      </div>
      <div class="text-center mt-2">
        <button
          (click)="setTab(3)"
          class="btn btn-lg btn-success"
          style="width: 310px;"
        >
          {{ 'sitelist.form.gotopoints' | translate }}
        </button>
        <a class="simple-link" href="/site/list">{{ 'sitelist.form.gotoaway' | translate }}</a>
      </div>
    </div>

    <div *ngIf="tab === 3">
      <div class="row text-center mb-3">
        <div class="col-lg-12 mb-3">
          <h4>{{ 'sitelist.form.smartpoints.settings' | translate }}</h4>
        </div>
        <div class="row">
          <div class="col-lg-1"></div>
          <div class="col-lg-10 text-left">{{ 'sitelist.form.smartpoints.desc1' | translate }}</div>
          <div class="col-lg-1"></div>
        </div>
      </div>

      <div class="row widgets-options-container">
        <app-smartpoints-control [siteId]="createdSite.id" [smartPoints]="smartPoints"></app-smartpoints-control>
      </div>

      <div class="row mt-3">
        <div class="col-lg-12 text-center">
          <h4>{{ 'sitelist.form.goto' | translate }}</h4>
        </div>
      </div>
      <div class="text-center mt-3 mb-3">
        <a (click)="goToCreateOwnWidgets()" class="btn btn-lg btn-success next" style="width: 425px;">
          {{ 'sitelist.form.gotowidgets' | translate }}
        </a>
      </div>
    </div>
  </div>
</div>
