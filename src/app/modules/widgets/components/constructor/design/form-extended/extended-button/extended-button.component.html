<div class="row-subitem">
  <div class="dropdown">
    <button aria-expanded="true" class="btn btn-default dropdown-toggle" data-toggle="dropdown" type="button">
      {{ item.label }}
      <span class="caret"></span>
    </button>
    <ul class="dropdown-menu" role="menu">
      <li (click)="changeFormType(itemForm.type)" *ngFor="let itemForm of availItemTypes" role="presentation">
        <a class="dropdown-item" href="javascript:void(0)" role="menuitem" tabindex="-1">{{ itemForm.label }}</a>
      </li>
    </ul>
  </div>
</div>

<div *ngIf="item.bType" class="row-subitem mt-4 border-item">
  <label
    class="control-label control-label-des switcher-label-xs">{{ 'widgets.formExt.button.bType.label' | translate }}</label>
  <div class="dropdown mt-1">
    <button aria-expanded="true" class="btn btn-default dropdown-toggle" data-toggle="dropdown" type="button">
      {{ item.bType.label }}
      <span class="caret"></span>
    </button>
    <ul class="dropdown-menu" role="menu">
      <li (click)="item.bType = itemBType" *ngFor="let itemBType of bTypes" role="presentation">
        <a class="dropdown-item" href="javascript:void(0)" role="menuitem" tabindex="-1">{{ itemBType.label }}</a>
      </li>
    </ul>
  </div>
</div>

<!-- ICON SETTINGS -->
<div *ngIf="item.icon" [hidden]="!(item.bType?.type === 1 || item.bType?.type === 2)" class="border-item mt-4">
  <h3>Иконка</h3>

  <div class="d-flex justify-content-between mt-3">
    <label class="control-label">Цвет</label>
    <div class="d-flex text-right">
      <input
        [(colorPicker)]="item.icon.color"
        [cpAlphaChannel]="'disabled'"
        [cpOutputFormat]="'hex'"
        [style.background]="item.icon.color"
        class="color-picker-control"
        cpPosition="left"
        readonly
      />
      <input
        [(ngModel)]="item.icon.color"
        class="picker-input color"
      />
    </div>
  </div>

  <div class="d-flex row-subitem mt-3">
    <div class="row-subitem-padding mt-1 mr-2">
      <label class="control-label">{{ 'widgets.formExt.button.bType3' | translate }}:</label>
    </div>
    <div class="icp-icon row-subitem-padding">
      <div class="btn-group">
        <button class="btn btn-primary iconpicker-component" type="button">
          <i [class]="item.icon.selectedIcon"></i>
        </button>
        <input
          (iconPickerSelect)="onLabelIconPickerSelect($event)"
          [iconPicker]="item.icon.selectedIcon"
          [ipIconPack]="['fa']"
          class="icp btn btn-primary dropdown-toggle"
          id="icon-picker-label"
          ipPosition="bottom"
        />
        <span class="caret"></span>
      </div>
    </div>
  </div>

  <div *ngIf="item.bType.type === 2" class="d-flex align-items-center justify-content-between mt-2 pt-1">
    <label class="control-label">{{ 'widgets.icon.iconSize' | translate }}</label>
    <div class="align-items-center">
      <div class="form-control form-control-font">
        <input
          [(ngModel)]="item.fontSize"
          type="number"
        />
        <label>px</label>
      </div>
    </div>
  </div>
</div>
<!-- END ICON SETTINGS -->

<!-- FONT SETTINGS -->
<div *ngIf="item.bType" [hidden]="!(item.bType.type === 0 || item.bType.type === 1)" class="border-item mt-4">
  <div class="row-subitem">
    <div class="row-subitem-padding mb-3">
      <h3>Шрифт</h3>
    </div>
    <div class="row-subitem-padding">
      <input [id]="'font-picker-ext-form' + index" type="text">
    </div>
  </div>

  <div class="d-flex align-items-center justify-content-between mt-2">
    <label class="control-label">Размер</label>
    <div class="align-items-center">
      <div class="form-control form-control-font">
        <input
          [(ngModel)]="item.fontSize"
          type="number"
        />
        <label>px</label>
      </div>
    </div>
  </div>
</div>
<!-- END FONT SETTINGS -->

<div class="row-subitem mt-4">
  <h3>Вид кнопки</h3>

  <div class="d-flex justify-content-between mt-3">
    <label class="control-label">Цвет</label>
    <div class="d-flex text-right">
      <input
        [(colorPicker)]="item.colorBtn"
        [cpAlphaChannel]="'disabled'"
        [cpOutputFormat]="'hex'"
        [style.background]="item.colorBtn"
        class="color-picker-control"
        cpPosition="left"
        readonly
      />
      <input
        [(ngModel)]="item.colorBtn"
        class="picker-input color"
      />
    </div>
  </div>

  <div class="d-flex justify-content-between mt-3">
    <label class="control-label">Скругление углов</label>
    <div class="d-flex text-right side-ui-sm">
      <ngx-slider [(value)]="item.borderRadiusBtn" [options]="optionsRound"></ngx-slider>
      <input
        [(ngModel)]="item.borderRadiusBtn"
        class="picker-input slider"
      />
    </div>
  </div>

  <div class="row-subitem mt-3 pt-1 border-item">
    <div class="form-check">
      <label class="form-check-label">
        <input
          [(ngModel)]="item.newLine"
          class="form-check-input"
          type="checkbox"
        />
        <span class="checkmark"></span>
      </label>
      <span class="form-check-text f-3">{{ 'widgets.formExt.newLineField' | translate }}</span>
    </div>
  </div>
</div>

<div class="row-subitem mt-4">
  <h3>{{ 'widgets.formExt.widthField1' | translate }}</h3>
</div>

<div class="row-subitem mt-3 border-item">
  <div class="form-ext-item__width-settings form-ext-item__just-lined-flex">
    <div>
      <input [(ngModel)]="item.widthValue" class="form-control form-control-font form-cntrl-55w" type="number">
    </div>

    <div class="ml-2 w-100">
      <div class="dropdown">
        <button aria-expanded="true" class="btn btn-default dropdown-toggle" data-toggle="dropdown" type="button">
          {{ item.widthType.label }}
          <span class="caret"></span>
        </button>
        <ul class="dropdown-menu" role="menu">
          <li (click)="item.widthType = itemWidth" *ngFor="let itemWidth of availWidthTypes" role="presentation">
            <a class="dropdown-item" href="javascript:void(0)" role="menuitem" tabindex="-1">{{ itemWidth.label }}</a>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>

<div class="row-subitem mt-4 border-item">
  <h3>{{ 'widgets.formExt.mainSettings.buttonSettings.style' | translate }}</h3>
  <div *ngIf="item.font" class="dropdown mt-3">
    <button aria-expanded="true" class="btn btn-default dropdown-toggle" data-toggle="dropdown" type="button">
      {{ item.styleType }}
      <span class="caret"></span>
    </button>
    <ul class="dropdown-menu dropdown-with-btn-styles" role="menu">
      <li (click)="setBtnStyle('Default', item)"
          role="presentation">
        <a
          [ngStyle]="{'font-family': item.font.fontFamily, 'background': item.colorBtn}"
          class="dropdown-item btn-var-styles btn-var-styles__default"
          href="javascript:void(0)"
        >
          Default
        </a>
      </li>
      <li (click)="setBtnStyle('Material', item)"
          role="presentation">
        <a
          [ngStyle]="{'font-family': item.font.fontFamily, 'background': item.colorBtn}"
          class="dropdown-item btn-var-styles btn-var-styles__material"
          href="javascript:void(0)"
        >
          Material
        </a>
      </li>
      <li (click)="setBtnStyle('Flat', item)"
          role="presentation">
        <a
          [ngStyle]="{'font-family': item.font.fontFamily, 'background': item.colorBtn}"
          class="dropdown-item btn-var-styles btn-var-styles__flat"
          href="javascript:void(0)"
        >
          Flat
        </a>
      </li>
      <li (click)="setBtnStyle('Border Style', item)"
          role="presentation">
        <a
          [ngStyle]="{'font-family': item.font.fontFamily, 'border-color': item.colorBtn}"
          class="dropdown-item btn-var-styles btn-var-styles__border-style"
          href="javascript:void(0)"
        >
          Border Style
        </a>
      </li>
    </ul>
  </div>
</div>

<div *ngIf="item.redirect" class="row-subitem mt-4">
  <h3>{{ 'widgets.formExt.mainSettings.buttonSettings.redirect.action' | translate }}</h3>
  <div class="dropdown mt-3">
    <button aria-expanded="true" class="btn btn-default dropdown-toggle" data-toggle="dropdown" type="button">
      {{ item.redirect.type.label }}
      <span class="caret"></span>
    </button>
    <ul class="dropdown-menu" role="menu">
      <li (click)="item.redirect.type = itemR" *ngFor="let itemR of redirectAvail" role="presentation">
        <a class="dropdown-item" href="javascript:void(0)" role="menuitem" tabindex="-1">{{ itemR.label }}</a>
      </li>
    </ul>
  </div>

  <div *ngIf="item.redirect.type.type === 1 || item.redirect.type.type === 3">
    <div
      [ngClass]="(item.redirect.url === '' && showErrors) ? 'is-invalid' : ''"
      class="row-subitem mt-3 widget-name-block-rel"
    >
      <label class="control-label">{{ 'widgets.redirect.onClickRedirect' | translate }}:</label>
      <input [(ngModel)]="item.redirect.url" class="form-control" placeholder="http://" type="text">
      <span class="input-down-sm-lab">{{ 'widgets.redirect.example' | translate }}: http://mywebsite.com</span>
      <a (click)="item.redirect.url = ''" *ngIf="item.redirect.url"
         class="remove-widget-name remove-widget-redirect"></a>
    </div>
    <div class="row-subitem mt-3 widget-small-text">
      {{ 'widgets.redirect.description' | translate }}
    </div>
    <div class="row-subitem widget-small-text">
      {{ 'widgets.redirect.description2' | translate }}
    </div>
    <div class="row-subitem mt-3">
      <div class="form-check">
        <label class="form-check-label">
          <input
            [(ngModel)]="item.redirect.blank"
            class="form-check-input"
            type="checkbox"
          />
          <span class="checkmark"></span>
        </label>
        <span class="form-check-text">{{ 'widgets.redirect.blank' | translate }}</span>
      </div>
    </div>
  </div>

  <div *ngIf="item.redirect.type.type === 2 || item.redirect.type.type === 3">
    <h3 class="mt-3 pt-1">{{ 'widgets.formExt.mainSettings.buttonSettings.actions' | translate }}</h3>

    <div class="row-subitem mt-2 pt-1">
      <div class="form-check">
        <label class="form-check-label">
          <input
            [(ngModel)]="item.targetAction"
            class="form-check-input"
            type="checkbox"
          />
          <span class="checkmark"></span>
        </label>
        <span
          class="form-check-text">{{ 'widgets.formExt.mainSettings.buttonSettings.isBtnAction' | translate }}</span>
      </div>
    </div>
  </div>
</div>
