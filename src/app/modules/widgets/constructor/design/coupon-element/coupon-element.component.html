<div *ngIf="!coupons.length" class="row-subitem row-subitem-padding coupons-flex-wr mt-2 pt-1">
  <a href="../../../coupons/?enableCouponModal=true" target="_blank" class="btn btn-primary btn-coupon-add">
    {{ 'widgets.coupon.couponCallback.couponAdd' | translate }}
  </a>
  <button
    (click)="refreshCouponsList()"
    class="btn btn-default refresh-coupons-element-btn"
    data-toggle="tooltip"
    data-container="body"
    data-placement="top"
    title=""
    [attr.data-original-title]="'widgets.coupon.couponCallback.couponRefresh' | translate"
  ><i class="fas fa-sync"></i></button>
</div>

<div *ngIf="coupons.length" class="row-subitem">
  <h3>{{ 'widgets.coupon.couponCallback.couponChoose' | translate }}</h3>
  <div class="coupons-flex-wr mt-1">
    <div class="dropdown btn-coupon-chose">
      <button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown" aria-expanded="true">
        {{ item.coupon.name }}
        <span class="caret"></span>
      </button>
      <ul role="menu" class="dropdown-menu">
        <li role="presentation" *ngFor="let itemCoupon of coupons" (click)="item.coupon = itemCoupon">
          <a role="menuitem" tabindex="-1" href="javascript:void(0)" class="dropdown-item">{{ itemCoupon.name }}</a>
        </li>
      </ul>
    </div>
    <button
      (click)="refreshCouponsList()"
      class="btn btn-default refresh-coupons-element-btn"
      data-toggle="tooltip"
      data-container="body"
      data-placement="top"
      title=""
      [attr.data-original-title]="'widgets.coupon.couponCallback.couponRefresh' | translate"
    ><i class="fas fa-sync"></i></button>
  </div>
</div>

<div class="row-subitem mt-1 border-item">
  <div
    class="row-subitem-padding widget-small-text underline-links blue-links hover-links"
    [innerHTML]="'widgets.coupon.couponCallback.desc' | translate"
  ></div>
</div>

<h3 class="mt-3">Внешний вид</h3>

<div class="d-flex justify-content-between mt-3">
  <label class="control-label control-label-des">{{ 'widgets.coupon.couponCallback.popupWindow.setting.colorBg' | translate }}</label>
  <div class="d-flex text-right">
    <input
      [(colorPicker)]="item.color"
      [style.background]="item.color"
      [cpAlphaChannel]="'disabled'"
      [cpOutputFormat]="'hex'"
      cpPosition="left"
      class="color-picker-control"
    />
    <input
      [(ngModel)]="item.color"
      class="picker-input color"
    />
  </div>
</div>

<div class="d-flex justify-content-between mt-3">
  <label class="control-label control-label-des">{{ 'widgets.coupon.couponCallback.popupWindow.setting.color' | translate }}</label>
  <div class="d-flex text-right">
    <input
      [(colorPicker)]="item.colorText"
      [style.background]="item.colorText"
      [cpAlphaChannel]="'disabled'"
      [cpOutputFormat]="'hex'"
      cpPosition="left"
      class="color-picker-control"
    />
    <input
      [(ngModel)]="item.colorText"
      class="picker-input color"
    />
  </div>
</div>

<div class="d-flex justify-content-between mt-3">
  <h5 class="label-style-ic control-label-des">Прозрачность</h5>
  <div class="d-flex text-right side-ui-sm">
    <ngx-slider
      [(value)]="item.opacity"
      [options]="optionsOpacity"
    ></ngx-slider>
    <input
      [(ngModel)]="item.opacity"
      class="picker-input slider"
    />
  </div>
</div>

<div class="d-flex justify-content-between mt-3 border-item">
  <h5 class="label-style-ic control-label-des">Скругление углов</h5>
  <div class="d-flex text-right side-ui-sm">
    <ngx-slider [(value)]="item.borderRadius" [options]="optionsRound"></ngx-slider>
    <input
      [(ngModel)]="item.borderRadius"
      class="picker-input slider"
    />
  </div>
</div>

<div class="row-subitem mt-3">
  <div class="row-subitem-padding mb-3">
    <h3>Текст</h3>
  </div>
  <div class="row-subitem-padding">
    <input [id]="'font-picker' + index" type="text">
  </div>
</div>

<div class="d-flex align-items-center justify-content-between mt-2">
  <label class="control-label control-label-des">Размер</label>
  <div class="align-items-center">
    <div class="form-control form-control-font">
      <input
        type="number"
        [(ngModel)]="item.fontSize"
      />
      <label>px</label>
    </div>
  </div>
</div>

<div class="d-flex align-items-center justify-content-between mt-3">
  <label class="control-label control-label-des">Ширина</label>
  <div class="d-flex align-items-center">
    <div
      class="form-control form-control-font mr-2"
      [class.disabled]="item.width_type !== widthBtn[2]"
    >
      <input
        type="number"
        [(ngModel)]="item.widthpx"
        [disabled]="item.width_type !== widthBtn[2]"
      />
      <label>px</label>
    </div>
    <button
      class="content-type-button"
      [class.active]="item.width_type === widthBtn[0]"
      (click)="item.width_type = (item.width_type === widthBtn[0] ? widthBtn[2] : widthBtn[0])"
    >
      AUTO
    </button>
    <button
      class="wide-button"
      [class.active]="item.width_type === widthBtn[1]"
      (click)="item.width_type = (item.width_type === widthBtn[1] ? widthBtn[2] : widthBtn[1])"
    >
    </button>
  </div>
</div>

<div class="d-flex justify-content-between row-subitem row-subitem-padding mt-3 pt-1">
  <label
    class="control-label control-label-des"
    [class.disabled]="item.width_type === widthBtn[1]"
  >
    Выравнивание
  </label>
  <div>
    <button
      class="align-button icon-left"
      [class.active]="item.position === floatBtn[0]"
      (click)="item.position = floatBtn[0]"
      [disabled]="item.width_type === widthBtn[1]"
    ></button>
    <button
      class="align-button icon-center"
      [class.active]="item.position === floatBtn[1]"
      (click)="item.position = floatBtn[1]"
      [disabled]="item.width_type === widthBtn[1]"
    ></button>
    <button
      class="align-button icon-right"
      [class.active]="item.position === floatBtn[2]"
      (click)="item.position = floatBtn[2]"
      [disabled]="item.width_type === widthBtn[1]"
    ></button>
  </div>
</div>

<div class="widget-name-block-rel row-subitem-padding row-subitem mt-2 pt-1">
  <h3>{{ 'widgets.coupon.couponCallback.popupWindow.setting.hover' | translate }}</h3>
  <input type="text" class="form-control mt-1" [(ngModel)]="item.hoverText" placeholder="" />
</div>

<div class="widget-name-block-rel row-subitem-padding row-subitem mt-2 pt-1 border-item">
  <h3>{{ 'widgets.coupon.couponCallback.popupWindow.setting.click' | translate }}</h3>
  <input type="text" class="form-control mt-1" [(ngModel)]="item.clickText" placeholder="">
</div>

<div class="row row-subitem mt-3">
  <div class="d-flex col-sm-12 row-subitem-padding pt-1">
    <ui-switch
      size="small"
      [(ngModel)]="item.title.enable"
    ></ui-switch><label class="control-label switcher-label-xs control-label-des mt-1 ml-2">Добавить призыв к действию</label>
  </div>
</div>

<div [hidden]="!item.title.enable" class="mt-2">
  <div class="row row-subitem pt-1">
    <div class="col-sm-12 row-subitem-padding">
      <h4 class="h4-text-tit control-label-des">Шрифт:</h4>
    </div>
    <div class="col-sm-12 row-subitem-padding">
      <input type="text" [id]="'font-picker-title' + index">
    </div>
  </div>
  <div class="row row-subitem">
    <div class="col-sm-12 row-subitem-padding pt-1 mt-2">
      <input type="number" class="form-control form-control-font form-cntrl-45w" [(ngModel)]="item.title.fontSize">
      <label class="control-label ml-1">px <span>размер текста</span></label>
    </div>
  </div>
  <div class="row row-subitem mt-3">
    <div class="col-sm-12 row-subitem-padding pt-1">
      <ui-switch
        size="small"
        [(ngModel)]="item.title.textShadow.enable"
      ></ui-switch><label class="control-label switcher-label-xs control-label-des mt-1 ml-2">Добавить тень</label>
    </div>
  </div>
  <div *ngIf="item.title.textShadow.enable">
    <div class="row row-subitem">
      <div class="col-sm-5 row-subitem-padding pt-1 mr-3">
        <label class="control-label control-label-colorpc control-label-des">Цвет тени:</label>
        <input
          [(colorPicker)]="item.title.textShadow.color"
          [style.background]="item.title.textShadow.color"
          [cpAlphaChannel]="'disabled'"
          [cpOutputFormat]="'hex'"
          class="w-100"
        />
      </div>
      <div class="col-sm-6 row-subitem-padding pt-1 side-ui-dev">
        <label class="control-label control-label-colorpc control-label-des">Прозрачность:</label>
        <ngx-slider [(value)]="item.title.textShadow.opacity" [options]="optionsOpacity" style="margin-right: 18px"></ngx-slider>
      </div>
    </div>
    <div class="row row-subitem mt-1">
      <div class="col-sm-5 row-subitem-padding pt-1 mr-3 d-flex flex-column">
        <label class="control-label control-label-des">Сдвиг по горизонтали:</label>
        <input
          type="number"
          class="form-control form-control-font form-control-block form-cntrl-45w"
          [(ngModel)]="item.title.textShadow.horiz"
        />
      </div>
      <div class="col-sm-6 row-subitem-padding pt-1 d-flex flex-column">
        <label class="control-label control-label-des">Сдвиг по вертикали:</label>
        <input
          type="number"
          class="form-control form-control-font form-control-block form-cntrl-45w"
          [(ngModel)]="item.title.textShadow.vertical"
        />
      </div>
    </div>
    <div class="row row-subitem mt-1">
      <div class="col-sm-6 row-subitem-padding pt-1 d-flex flex-column">
        <label class="control-label control-label-des">Резкость:</label>
        <input
          type="number"
          class="form-control form-control-font form-control-block form-cntrl-45w"
          [(ngModel)]="item.title.textShadow.blur"
        />
      </div>
    </div>
  </div>
</div>

<div class="mt-1 mb-1">
  <h4 class="h4-text-tit control-label-des helper-title-3level">
    {{ 'widgets.coupon.setting.actions' | translate }}
  </h4>
</div>

<div class="row row-subitem">
  <div class="col-sm-12 row-subitem-padding pt-1">
    <div class="form-check">
      <label class="form-check-label">
        <input
          type="checkbox"
          [(ngModel)]="item.isCopyAction"
          class="form-check-input"
        />
        <span class="checkmark"></span>
      </label>
      {{ 'widgets.coupon.setting.isCopyAction' | translate }}
    </div>
  </div>
</div>
