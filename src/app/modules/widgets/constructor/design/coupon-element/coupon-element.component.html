<div *ngIf="!coupons.length" class="row-subitem row-subitem-padding coupons-flex-wr mt-2 pt-1">
  <a href="../../../coupons/?enableCouponModal=true" target="_blank" class="btn btn-primary btn-coupon-add">
    {{ 'widgets.coupon.couponCallback.couponAdd' | translate }}
  </a>
  <button
    (click)="refreshCouponsList()"
    class="btn btn-default refresh-coupons-element-btn"
    data-toggle="tooltip"
    data-container="body"
    data-placement="top"
    title=""
    [attr.data-original-title]="'widgets.coupon.couponCallback.couponRefresh' | translate"
  ><i class="fas fa-sync"></i></button>
</div>

<div *ngIf="coupons.length" class="row-subitem">
  <h3>{{ 'widgets.coupon.couponCallback.couponChoose' | translate }}</h3>
  <div class="coupons-flex-wr mt-1">
    <div class="dropdown btn-coupon-chose">
      <button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown" aria-expanded="true">
        {{ item.coupon.name }}
        <span class="caret"></span>
      </button>
      <ul role="menu" class="dropdown-menu">
        <li role="presentation" *ngFor="let itemCoupon of coupons" (click)="item.coupon = itemCoupon">
          <a role="menuitem" tabindex="-1" href="javascript:void(0)" class="dropdown-item">{{ itemCoupon.name }}</a>
        </li>
      </ul>
    </div>
    <button
      (click)="refreshCouponsList()"
      class="btn btn-default refresh-coupons-element-btn"
      data-toggle="tooltip"
      data-container="body"
      data-placement="top"
      title=""
      [attr.data-original-title]="'widgets.coupon.couponCallback.couponRefresh' | translate"
    ><i class="fas fa-sync"></i></button>
  </div>
</div>

<div class="row-subitem mt-1 border-item">
  <div
    class="row-subitem-padding widget-small-text underline-links blue-links hover-links"
    [innerHTML]="'widgets.coupon.couponCallback.desc' | translate"
  ></div>
</div>

<h3 class="mt-3">Внешний вид</h3>

<div class="d-flex justify-content-between mt-3">
  <label class="control-label control-label-des">{{ 'widgets.coupon.couponCallback.popupWindow.setting.colorBg' | translate }}</label>
  <div class="d-flex text-right">
    <input
      [(colorPicker)]="item.color"
      [style.background]="item.color"
      [cpAlphaChannel]="'disabled'"
      [cpOutputFormat]="'hex'"
      cpPosition="left"
      class="color-picker-control"
readonly
    />
    <input
      [(ngModel)]="item.color"
      class="picker-input color"
    />
  </div>
</div>

<div class="d-flex justify-content-between mt-3">
  <label class="control-label control-label-des">{{ 'widgets.coupon.couponCallback.popupWindow.setting.color' | translate }}</label>
  <div class="d-flex text-right">
    <input
      [(colorPicker)]="item.colorText"
      [style.background]="item.colorText"
      [cpAlphaChannel]="'disabled'"
      [cpOutputFormat]="'hex'"
      cpPosition="left"
      class="color-picker-control"
readonly
    />
    <input
      [(ngModel)]="item.colorText"
      class="picker-input color"
    />
  </div>
</div>

<div class="d-flex justify-content-between mt-3">
  <h5 class="label-style-ic control-label-des">Прозрачность</h5>
  <div class="d-flex text-right side-ui-sm">
    <ngx-slider
      [(value)]="item.opacity"
      [options]="optionsOpacity"
    ></ngx-slider>
    <input
      [(ngModel)]="item.opacity"
      class="picker-input slider"
    />
  </div>
</div>

<div class="d-flex justify-content-between mt-3 border-item">
  <h5 class="label-style-ic control-label-des">Скругление углов</h5>
  <div class="d-flex text-right side-ui-sm">
    <ngx-slider [(value)]="item.borderRadius" [options]="optionsRound"></ngx-slider>
    <input
      [(ngModel)]="item.borderRadius"
      class="picker-input slider"
    />
  </div>
</div>

<div class="row-subitem mt-3">
  <div class="row-subitem-padding mb-3">
    <h3>Текст</h3>
  </div>
  <div class="row-subitem-padding">
    <input [id]="'font-picker' + index" type="text">
  </div>
</div>

<div class="d-flex align-items-center justify-content-between mt-2">
  <label class="control-label control-label-des">Размер</label>
  <div class="align-items-center">
    <div class="form-control form-control-font">
      <input
        type="number"
        [(ngModel)]="item.fontSize"
      />
      <label>px</label>
    </div>
  </div>
</div>

<div class="d-flex align-items-center justify-content-between mt-3">
  <label class="control-label control-label-des">Ширина</label>
  <div class="d-flex align-items-center">
    <div
      class="form-control form-control-font mr-2"
      [class.disabled]="item.width_type !== widthBtn[2]"
    >
      <input
        type="number"
        [(ngModel)]="item.widthpx"
        [disabled]="item.width_type !== widthBtn[2]"
      />
      <label>px</label>
    </div>
    <button
      class="content-type-button"
      [class.active]="item.width_type === widthBtn[0]"
      (click)="item.width_type = (item.width_type === widthBtn[0] ? widthBtn[2] : widthBtn[0])"
    >
      AUTO
    </button>
    <button
      class="wide-button"
      [class.active]="item.width_type === widthBtn[1]"
      (click)="item.width_type = (item.width_type === widthBtn[1] ? widthBtn[2] : widthBtn[1])"
    >
    </button>
  </div>
</div>

<div class="d-flex justify-content-between row-subitem row-subitem-padding mt-3 pt-1">
  <label
    class="control-label control-label-des"
    [class.disabled]="item.width_type === widthBtn[1]"
  >
    Выравнивание
  </label>
  <div>
    <button
      class="align-button icon-left"
      [class.active]="item.position === floatBtn[0]"
      (click)="item.position = floatBtn[0]"
      [disabled]="item.width_type === widthBtn[1]"
    ></button>
    <button
      class="align-button icon-center"
      [class.active]="item.position === floatBtn[1]"
      (click)="item.position = floatBtn[1]"
      [disabled]="item.width_type === widthBtn[1]"
    ></button>
    <button
      class="align-button icon-right"
      [class.active]="item.position === floatBtn[2]"
      (click)="item.position = floatBtn[2]"
      [disabled]="item.width_type === widthBtn[1]"
    ></button>
  </div>
</div>

<div class="widget-name-block-rel row-subitem-padding row-subitem mt-2 pt-1">
  <h3>{{ 'widgets.coupon.couponCallback.popupWindow.setting.hover' | translate }}</h3>
  <input type="text" class="form-control mt-1" [(ngModel)]="item.hoverText" placeholder="" />
</div>

<div class="widget-name-block-rel row-subitem-padding row-subitem mt-2 pt-1 border-item">
  <h3>{{ 'widgets.coupon.couponCallback.popupWindow.setting.click' | translate }}</h3>
  <input type="text" class="form-control mt-1" [(ngModel)]="item.clickText" placeholder="">
</div>

<div class="border-item">
  <div class="d-flex justify-content-between row-subitem row-subitem-padding mt-3">
    <label class="control-label switcher-label-xs control-label-des">
      Призыв к действию
    </label>
    <ui-switch
      size="small"
      [(ngModel)]="item.title.enable"
    ></ui-switch>
  </div>

  <div [hidden]="!item.title.enable" class="mt-2">
    <div class="row-subitem">
      <div class="row-subitem-padding mb-1">
        <h3>Текст</h3>
      </div>
      <div class="row-subitem-padding">
        <input [id]="'font-picker-title' + index" type="text">
      </div>
    </div>

    <div class="d-flex align-items-center justify-content-between mt-2 mb-3 border-item">
      <label class="control-label control-label-des">Размер</label>
      <div class="align-items-center">
        <div class="form-control form-control-font">
          <input
            type="number"
            [(ngModel)]="item.title.fontSize"
          />
          <label>px</label>
        </div>
      </div>
    </div>

    <div class="d-flex row-subitem justify-content-between row-subitem-padding mt-3">
      <label class="control-label switcher-label-xs control-label-des">
        Тень
      </label>
      <ui-switch
        size="small"
        [(ngModel)]="item.title.textShadow.enable"
      ></ui-switch>
    </div>

    <div *ngIf="item.title.textShadow.enable">
      <div class="d-flex justify-content-between mt-3">
        <label class="control-label control-label-des">Цвет</label>
        <div class="d-flex text-right">
          <input
            [(colorPicker)]="item.title.textShadow.color"
            [style.background]="item.title.textShadow.color"
            [cpAlphaChannel]="'disabled'"
            [cpOutputFormat]="'hex'"
            cpPosition="left"
            class="color-picker-control"
readonly
          />
          <input
            [(ngModel)]="item.title.textShadow.color"
            class="picker-input color"
          />
        </div>
      </div>

      <div class="d-flex justify-content-between mt-3">
        <h5 class="label-style-ic control-label-des">Прозрачность</h5>
        <div class="d-flex text-right side-ui-sm">
          <ngx-slider [(value)]="item.title.textShadow.opacity" [options]="optionsOpacity"></ngx-slider>
          <input
            [(ngModel)]="item.title.textShadow.opacity"
            class="picker-input slider"
          />
        </div>
      </div>

      <div class="d-flex justify-content-between mt-3">
        <label class="control-label control-label-des">Сдвиг</label>
        <div>
          <label class="control-label control-label-des mr-1 pr-1">X</label>
          <input
            type="number"
            class="picker-input slider"
            [(ngModel)]="item.title.textShadow.horiz"
          />
          <label class="control-label control-label-des ml-3 pl-1 mr-1 pr-1">Y</label>
          <input
            type="number"
            class="picker-input slider"
            [(ngModel)]="item.title.textShadow.vertical"
          />
        </div>
      </div>

      <div class="d-flex justify-content-between mt-3">
        <label class="control-label control-label-des">Размытие</label>
        <div class="d-flex text-right side-ui-sm">
          <ngx-slider [(value)]="item.title.textShadow.blur" [options]="optionsSharpness"></ngx-slider>
          <input
            type="number"
            [(ngModel)]="item.title.textShadow.blur"
            class="picker-input slider"
          />
        </div>
      </div>
    </div>
  </div>
</div>

<h3 class="mt-3">{{ 'widgets.coupon.setting.actions' | translate }}</h3>

<div class="d-flex row-subitem row-subitem-padding mt-2 mb-3 pb-3">
  <div class="form-check">
    <label class="form-check-label mr-2">
      <input
        type="checkbox"
        [(ngModel)]="item.isCopyAction"
        class="form-check-input"
      />
      <span class="checkmark"></span>
    </label>
    {{ 'widgets.coupon.setting.isCopyAction' | translate }}
  </div>
</div>
