<div class="col-lg-12 static-wrapper-scr">
  <div class="static-widget-block test-item">
    <div class="test-item-header">
      <div class="test-item-left">
        <div class="max-edit-text-bl">
          <cool-inline-edit-field
            (saved)="updateContainer($event)"
            [(ngModel)]="container.name"
            [emptyText]="'containerized.container.add.name' | translate"
            class="test-item-name long-text-item"
            name="name"
          >
          </cool-inline-edit-field>
        </div>
        <div class="max-edit-text-bl mb-2">
          <cool-inline-edit-field
            (saved)="updateDescription()"
            [(ngModel)]="container.description"
            [emptyText]="'containerized.container.add.description' | translate"
            class="test-item-desc long-text-item"
            name="name"
          >
          </cool-inline-edit-field>
        </div>
      </div>
      <div class="test-item-right">
        <div class="btn-group play-btns mr-2">
          <button (click)="openContainerCodeModal()"
                  class="btn btn-default btn-show-dialog-code"
                  data-placement="top"
                  data-toggle="tooltip"
                  title="{{ 'containerized.container.code.tooltip' | translate }}">
            <b>&lt;/&gt;</b> {{ 'settings.script.title' | translate }}
          </button>
        </div>

        <div class="btn-group edit-btns">
          <button (click)="removeContainer()"
                  class="btn btn-default btn-remove-container"
                  data-container="body" data-placement="top" data-toggle="tooltip"
                  title="{{ 'containerized.container.remove' | translate }}">
            <i class="fa fa-trash"></i>
          </button>
        </div>
      </div>
    </div>
    <div class="ab-content mt-2">
      <div class="ab-grid">
        <div class="ab-grid__header">
          <div class="ab-grid__header--name">{{ 'widgetsList.widget.widget' | translate }}</div>
          <div class="ab-grid__header--company">{{ 'widgetsList.selectCompany' | translate }}</div>
          <div class="ab-grid__header--shows">{{ 'widgetsList.widget.show.all' | translate }}</div>
          <div class="ab-grid__header--targets">{{ 'widgetsList.widget.show.actions' | translate }}</div>
          <div class="ab-grid__header--conv">{{ 'widgetsList.widget.show.conversion' | translate }}</div>
          <div class="ab-grid__header--priority">{{ 'widgetsList.widget.priority.title' | translate }} <a
            class="info-link" data-container="#myWidgets" data-placement="top" data-toggle="tooltip"
            title="{{ 'widgetsList.widget.priority.tooltip' | translate }}"><i class="fa fa-info-circle"></i></a>
          </div>
          <div class="ab-grid__header--actions-static">{{ 'containerized.container.header.control' | translate }}</div>
        </div>
        <div class="ab-grid__body">
          <app-containerized-item
            *ngFor="let widget of container.widgets; let isOdd = odd; index as i"
            [class.bg-for-line-grid]="isOdd"
            [containerId]="container.id"
            [first]="i === 0"
            [item]="widget"
            [last]="i === container.widgets.length - 1"
            [next]="container.widgets[i + 1]"
            [ngClass]="!widget.active ? 'ab-grid__item--non-active' : ''"
            [prev]="container.widgets[i - 1]"
            [siteId]="site.id"
            class="grid-containerized-item"
          ></app-containerized-item>
        </div>
        <div *ngIf="container.widgets.length && container.widgets.length > 1" class="ab-grid__footer">
          <div class="ab-grid__header--name"></div>
          <div class="ab-grid__header--company"></div>
          <div class="ab-grid__header--shows">{{getAllCount('shows') | thousandSuffix:2}}</div>
          <div class="ab-grid__header--targets">{{getAllCount('target') | thousandSuffix:2}}</div>
          <div [innerHTML]="(getAllCount('shows') !== 0) ? getAllCConversion() : '0.00%'"
               class="ab-grid__header--conv"></div>
          <div class="ab-grid__header--priority"></div>
          <div class="ab-grid__header--actions-static"></div>
        </div>
      </div>
    </div>
    <div class="ab-test-footer">
      <button (click)="addVariant()" class="btn btn-test-var" type="button"><i
        class="fa fa-plus"></i> {{ 'containerized.container.widget.add' | translate }}</button>
      <a class="static-help-link"
         href="https://leadgenic.userecho.com/knowledge-bases/2/articles/456-statichnyie-vidzhetyi-opisanie-vozmozhnostej-i-instruktsiya"
         target="_blank">{{ 'containerized.container.help.btn' | translate }}</a>
    </div>
  </div>
</div>
